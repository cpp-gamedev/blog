<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.65.3"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Debugging&nbsp;&ndash;&nbsp;CPP GameDev</title><link rel=stylesheet href=/css/core.min.350463598a0d573d76ab4b07af8573e375f4ecedd88570d214cd6fcfeff9d18d24161335c46a7c6c438b307e881e21ce.css integrity=sha384-NQRjWYoNVz12q0sHr4Vz43X07O3YhXDSFM1vz+/50Y0kFhM1xGp8bEOLMH6IHiHO><body><div class=base-body><section id=header class="site header"><div class="header wrap"><span class="header left-side"><a class="site home" href=/><img class="site logo" src=/cppgamedev.jpg alt><span class="site name">CPP GameDev</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>Categories</a><a class="nav item" href=/tags/>Tags</a><a class="nav item" href=https://github.com/cpp-gamedev target=_blank>github</a><a class="nav item" href=https://discord.gg/2NvA5jn target=_blank>discord</a></nav></div></span></div><div class="site slogan"><span class=title>Discussion around C++ game programming</span></div></section><div id=content><div class=article-container><section class="article header"><h1 class="article title">Debugging</h1><p class="article date">Friday, April 24, 2020</p></section><article class="article markdown-body"><h3 id=debugging-symbols>Debugging Symbols</h3><p>When invoking a C++ compiler, several options/flags can be passed, including optimisation level, pre-processor defines, and whether to include <strong>debugging symbols</strong> in the binary.
These symbols are effectively mappings between binary addresses and source code (file, line number, symbol name, etc), which a compatible <strong>debugger</strong> can use.
Including debugging symbols dramatically increases the size of the resulting binary, often by orders of magnitude.</p><p>A debugger (given an executable with debugging symbols) offers many useful features, such as stepping through code one line at a time, setting breakpoints, watching variables, changing values stored in memory, the entire call stack (when broken), etc.
<code>g++</code> / <code>clang++</code> will embed debugging symbols when <code>-g</code> is passed as a compiler flag/option (<code>/DEBUG:FULL</code> for MSVC).
Most C++ runtimes also provide a &ldquo;debugging mode&rdquo;, which enables bounds checking on containers, sets dangling pointers to a special value, etc., at the cost of performance.
This is enabled on <code>libstdc++</code> by defining <code>_GLIBCXX_DEBUG</code>, either via a compiler option or directly in every source file (<code>/MTd</code> or <code>/MDd</code> option for MSVC).</p><h3 id=build-configurations>Build Configurations</h3><p>A set of compiler options (and the source files) can be bundled together as a <strong>build configuration</strong> on most build tools, such that building that configuration will automatically pass the relevant options to the compiler when compiling a source file.
In CMake this is expressed via <code>CMAKE_BUILD_TYPE</code> (except for multi-configuration generators, like Visual Studio / Xcode); the defaults are:</p><ul><li><code>Debug</code> (debugging symbols are added by default, but <code>_GLIBCXX_DEBUG</code> is <em>not</em> defined by CMake!)</li><li><code>Release</code> (optimised for speed)</li><li><code>RelWithDebInfo</code> (with debug symbols)</li><li><code>MinSizeRel</code> (optimised for size)</li></ul><p>Because of the overhead of symbols and debug mode, these are generally disabled by default, except for <code>Debug</code> configurations.</p><p><em>Note: the most common debugger on Linux is <code>gdb</code>, while <code>clang</code> ships with <code>lldb</code> (both debuggers are cross-compatible).</em></p><h4 id=resources>Resources</h4><ul><li><a href=https://youtu.be/mfmXcbiRs0E target=_blank><code>gdb</code> in 60 seconds</a></li></ul></article><section class="article labels"><a class=category href=/categories/posts/>posts</a><a class=tag href=/tags/infobytes/>infobytes</a><a class=tag href=/tags/c++/>c++</a></section></div><section class="article navigation"><p><a class=link href=/posts/memory-management-infobyte/><span class=li>&rarr;</span>Memory Management</a></p></section></div><section id=footer class=footer><div class=footer-wrap><p class=copyright>CPP GameDev</p><p class=powerby><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section></div></body></html>